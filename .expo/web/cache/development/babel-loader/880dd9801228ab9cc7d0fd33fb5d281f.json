{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/sylviemason/OneDrive - Duke University/Duke/Duke Fall 2021/CS 390/project_SmartDoor/screens/Login.js\";\nimport React, { useState } from \"react\";\nimport { styles } from \"../Styles\";\nimport logo from \"../assets/logo.png\";\nimport firebase from \"firebase/app\";\nimport \"firebase/database\";\nimport \"firebase/auth\";\nvar firebaseConfig = {\n  apiKey: \"AIzaSyDp3DdsqNfYJeCXIveh-7dDvnJhmudgdeE\",\n  authDomain: \"sentinel-a6249.firebaseapp.com\",\n  databaseURL: \"https://sentinel-a6249-default-rtdb.firebaseio.com\",\n  projectId: \"sentinel-a6249\",\n  storageBucket: \"sentinel-a6249.appspot.com\",\n  messagingSenderId: \"1069922297779\",\n  appId: \"1:1069922297779:web:2f883ac3957053cb80cdc6\",\n  measurementId: \"G-5WBYZYXC4J\"\n};\nvar firebaseApp = firebase.initializeApp(firebaseConfig);\nvar database = firebase.database();\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nvar username = \"\";\nvar password = \"\";\n\nfunction Login(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUsername = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      pass = _useState4[0],\n      setPassword = _useState4[1];\n\n  var movePage = function movePage() {\n    if (user.length == 0 || pass.length == 0) {\n      Alert.alert(\"Please enter a username and password.\");\n    } else if (pass.length < 6) {\n      Alert.alert(\"Password must be at least 6 characters long\");\n    } else {\n      username = user;\n      password = pass;\n      storeUser(username, password);\n      navigation.navigate(\"Home\");\n    }\n  };\n\n  var storeUser = function storeUser(username, password) {\n    firebase.auth().createUserWithEmailAndPassword(username, password).then(function () {\n      console.log('User account created & signed in!');\n      database.ref('users/' + firebase.auth().currentUser.uid).set({\n        door: \"door_id\"\n      });\n    }).catch(function (error) {\n      if (error.code === 'auth/email-already-in-use') {\n        console.log('That email address is already in use!');\n      }\n\n      if (error.code === 'auth/invalid-email') {\n        console.log('That email address is invalid!');\n      }\n\n      console.error(error);\n    });\n    firebase.auth().createUserWithEmailAndPassword(username, password).then(function () {\n      console.log(\"User account created & signed in!\");\n    }).catch(function (error) {\n      if (error.code === \"auth/email-already-in-use\") {\n        console.log(\"That email address is already in use!\");\n      }\n\n      if (error.code === \"auth/invalid-email\") {\n        console.log(\"That email address is invalid!\");\n      }\n\n      console.error(error);\n    });\n  };\n\n  return React.createElement(View, {\n    style: styles.back,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: styles.centeredcontainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"#3EB489\",\n      fontSize: 60,\n      textTransform: \"uppercase\",\n      textShadowColor: \"black\",\n      textShadowRadius: 5\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, \"Sentinel\")), React.createElement(View, {\n    style: styles.middlecontainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"Username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"Email\",\n    onChangeText: function onChangeText(user) {\n      return setUsername(user);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"Password\",\n    onChangeText: function onChangeText(pass) {\n      return setPassword(pass);\n    },\n    secureTextEntry: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }), React.createElement(TouchableOpacity, {\n    style: styles.button,\n    onPress: movePage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"white\",\n      fontSize: 30,\n      textTransform: \"uppercase\",\n      fontFamily: \"AppleSDGothicNeo-Bold\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }\n  }, \"Login\"))), React.createElement(View, {\n    style: styles.middlecontainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }\n  }, React.createElement(Image, {\n    source: logo,\n    style: {\n      width: 200,\n      height: 200\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport default Login;\nexport { username };\nexport { database };\nexport { firebaseApp };","map":{"version":3,"sources":["/Users/sylviemason/OneDrive - Duke University/Duke/Duke Fall 2021/CS 390/project_SmartDoor/screens/Login.js"],"names":["React","useState","styles","logo","firebase","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseApp","initializeApp","database","username","password","Login","navigation","user","setUsername","pass","setPassword","movePage","length","Alert","alert","storeUser","navigate","auth","createUserWithEmailAndPassword","then","console","log","ref","currentUser","uid","set","door","catch","error","code","back","centeredcontainer","color","fontSize","textTransform","textShadowColor","textShadowRadius","middlecontainer","input","button","fontFamily","width","height"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { styles } from \"../Styles\";\nimport logo from \"../assets/logo.png\";\nimport firebase from \"firebase/app\";\nimport \"firebase/database\";\nimport \"firebase/auth\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDp3DdsqNfYJeCXIveh-7dDvnJhmudgdeE\",\n  authDomain: \"sentinel-a6249.firebaseapp.com\",\n  databaseURL: \"https://sentinel-a6249-default-rtdb.firebaseio.com\",\n  projectId: \"sentinel-a6249\",\n  storageBucket: \"sentinel-a6249.appspot.com\",\n  messagingSenderId: \"1069922297779\",\n  appId: \"1:1069922297779:web:2f883ac3957053cb80cdc6\",\n  measurementId: \"G-5WBYZYXC4J\",\n};\n\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\nconst database = firebase.database();\n\nimport {\n  Text,\n  View,\n  Button,\n  TouchableOpacity,\n  TextInput,\n  Image,\n  Alert,\n} from \"react-native\";\n\nlet username = \"\";\nlet password = \"\";\nfunction Login({ navigation }) {\n  const [user, setUsername] = useState(\"\");\n  const [pass, setPassword] = useState(\"\");\n  const movePage = () => {\n    if (user.length == 0 || pass.length == 0) {\n      Alert.alert(\"Please enter a username and password.\");\n    } else if (pass.length < 6) {\n      Alert.alert(\"Password must be at least 6 characters long\");\n    } else {\n      username = user;\n      password = pass;\n      storeUser(username, password);\n      navigation.navigate(\"Home\");\n    }\n  };\n  const storeUser = (username, password) => {\n    firebase.auth().createUserWithEmailAndPassword(username, password)\n    .then(() => {\n      console.log('User account created & signed in!');\n      database.ref('users/' + firebase.auth().currentUser.uid).set({\n        door: \"door_id\"\n      });\n    })\n    .catch(error => {\n      if (error.code === 'auth/email-already-in-use') {\n        console.log('That email address is already in use!');\n      }\n      if (error.code === 'auth/invalid-email') {\n        console.log('That email address is invalid!');\n      }\n      console.error(error);\n    });\n    firebase\n      .auth()\n      .createUserWithEmailAndPassword(username, password)\n      .then(() => {\n        console.log(\"User account created & signed in!\");\n      })\n      .catch((error) => {\n        if (error.code === \"auth/email-already-in-use\") {\n          console.log(\"That email address is already in use!\");\n        }\n        if (error.code === \"auth/invalid-email\") {\n          console.log(\"That email address is invalid!\");\n        }\n        console.error(error);\n      });\n  };\n\n  return (\n    <View style={styles.back}>\n      <View style={styles.centeredcontainer}>\n        <Text\n          style={{\n            color: \"#3EB489\",\n            fontSize: 60,\n            textTransform: \"uppercase\",\n            textShadowColor: \"black\",\n            textShadowRadius: 5,\n          }}\n        >\n          Sentinel\n        </Text>\n      </View>\n      <View style={styles.middlecontainer}>\n      <TextInput\n          style={styles.input}\n          placeholder=\"Username\"\n        />\n        <TextInput\n          style={styles.input}\n          placeholder=\"Email\"\n          onChangeText={(user) => setUsername(user)}\n        />\n        <TextInput\n          style={styles.input}\n          placeholder=\"Password\"\n          onChangeText={(pass) => setPassword(pass)}\n          secureTextEntry={true}\n        />\n        <TouchableOpacity style={styles.button} onPress={movePage}>\n          <Text\n            style={{\n              color: \"white\",\n              fontSize: 30,\n              textTransform: \"uppercase\",\n              fontFamily: \"AppleSDGothicNeo-Bold\",\n            }}\n          >\n            Login\n          </Text>\n        </TouchableOpacity>\n      </View>\n      <View style={styles.middlecontainer}>\n        <Image source={logo} style={{ width: 200, height: 200 }}></Image>\n      </View>\n    </View>\n  );\n}\n\nexport default Login;\nexport { username };\nexport { database };\nexport { firebaseApp };\n"]},"metadata":{},"sourceType":"module"}